# 8.1 만능 버튼 만들기

눌리면 특정 기능을 수행하는 버튼을 생각해보자

버튼을 눌렀을 때 램프에 불이 켜지는 프로그램을 개발하려면 버튼이 눌려졌음을 인식하는 Button 클래스, 불이 켜는 기능을 제공하는 Lamp 클래스가 필요함  
그리고 버튼이 눌렸을 때 pressed()는 킬 램프 객체를 참조해야 함

# 8.2 문제점

1. 누군가 버튼을 눌렀을 때 램프가 켜지는 대신 다른 기능을 실행하게 하려면 어떤 변경 작업을 해야하는가?
2. 버튼을 누르는 동작에 따라 다른 기능을 실행하게 하려면 어떤 변경 작업을 해야 하는가?

## 8.2.1 버튼을 눌렀을 때 다른 기능을 실행하는 경우

램프를 켜는 대신 알람을 시작하게 하려면 Button의 pressed()를 수정해야 함 -> OCP 위배

## 8.2.2 버튼을 누르는 동작에 따라 다른 기능을 실행하는 경우

이 경우 역시 버튼을 눌렀을 때의 기능을 변경하기 위해 다시 Button 클래스의 코드를 수정해야 하므로 재사용이 어려움

# 8.3 해결책

새로운기능을 추가하거나 변경하더라도 Button 클래스를 그대로 사용하려면 pressed() 에서 구체적인 기능을 직접 구현하지 않고 캡슐화해 pressed() 에서 호출하는 방법을 사용할 수 있음

# 8.4 Command pattern

이벤트가 발생했을 때 실행될 기능이 다양하면서도 변경이 필요한 경우에 이벤트를 발생시키는 클래스를 변경하지 않고 재사용하고자 할 때 유용함

커맨드 패턴은 실행될 기능을 캡슐화함으로써 기능의 실행을 요구하는 호출자(invoker) 클래스와 실제 기능을 실행하는 수신자(receiver) 클래스 사잉의 의존성을 제거하여 실행될 기능의 변경에도 호출자 클래스를 수정 없이 그대로 사용할 수 있도록 해준다.
