# 13.1 엘리베이터 부품 업체 변경하기

엘리베이터를 구성하는 모터와 문 부품을 생각해보자 각 제조 업체 별로 부품을 개발할 것이고 구체적인 동작 방식은

다르더라도 엘리베이터 입장에서는 이들을 이용해 엘리베이터가 구동된다는 것은 변치않는다

현재 추상클래스 Motor 의 하위 클래스로 LGMotor, HDMotor가 있고 추상 클래스 Door의 하위 클래스로 LGDoor, HDDoor가 있으며 Motor와 Door는 연관관계가 있음

또한 모터와 문을 제어하기 위해 Motor 객체 생성을 제어하는 MotorFactory DoorFactory 클래스도 있는 상황

# 13.2 문제점

- 만약 다른 제조 업체의 부품을 사용해야 한다면?
- 새로운 제조 업체의 부품을 지원해야 한다면?

## 13.2.1 다른 제조업체의 부품을 사용해야하는 경우

Client 의 코드에서 MotorFactory, DoorFactory에서 다른 제조 업체를 이용하는 코드로 변경해야 함 -> 이러한 코드 구조가 많을수록 수정이 어려움

## 13.2.2 새로운 제조업체의 부품을 지원해야하는 경우

새로운 제조업체의 부품이 추가될시 Factory의 코드가 추가되야 함

즉 기존의 팩토리 메서드 패턴을 이용한 객체 생성은 관련 있는 여러개의 객체를 일관성 있는 방식으로 생성하는 경우 많은 코드 변경이 필요함!

# 13.3 해결책

여러 종류의 객체를 생성할 때 이 객체들 사이의 관련성이 있는 경우라면 각 종류별로 별도의 Factory 클래스를 사용하는 대신 관련 객체들을 일관성 있게 생성하는 Factory 클래스를 사용하는 것이 편리할 수 있음

즉 MotorFactory, DoorFactory가 아닌 ElevatorFactory를 통해 제조업체별 모터와 문을 생성하는 팩토리 클래스를 구현하고 이러한 클래스를 추상화하는 것!

예제의 경우, 제조업체별 팩토리 객체는 각각 하나씩 싱글턴으로 설계하고 이 팩토리를 추상화한 ElevatorFactory와 ElevatorFactory를 이용해서 팩토리를 생성하는

ElevatorFactoryFactory를 설계하여 제조업체별 팩토리 생성 방식을 캡슐화함!

# 13.4 Abstract factory pattern

관련성 있는 여러 종류의 객체를 일관된 방식으로 생성하는 경우에 유용함!
